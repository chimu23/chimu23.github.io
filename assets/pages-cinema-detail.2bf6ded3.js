import{u as l,P as e,A as a,V as r,o as n,f as s,W as t,X as o,c as i,q as u,F as c,y as d,l as p,t as y}from"../vendor.902b7df3.js";import{_ as h}from"./index.a8d27ff4.js";const m={props:{url:{type:String,required:!0}},setup(t){const o=t,i=l(null);return e((()=>{var l;const{url:e}=o,r=null==(l=e.slice(-6).match(/\.(.+)/))?void 0:l[1];if(!r)return Window.open(r),a({title:"该视频可能不是正确格式",icon:"error"});const n={id:"xg-player",url:e,fluid:!0,closeVideoTouch:!0,enableVideoDbltouch:!0,autoplay:!0};"mp4"===r?i.value=new Player(n):"m3u8"===r&&(i.value=new HlsJsPlayer(n))})),r((()=>o.url),(l=>{i.value.src=l.value,a({icon:"none",title:"切换成过"})})),(l,e)=>(n(),s("div",{id:"xg-player"}))}};const v={comments:{XGPlayer:m},onLoad({playList:l,index:e}){this.playList=JSON.parse(decodeURIComponent(l)),this.currentIndex=Number(e),this.playUrl=this.playList[this.currentIndex].value},data:()=>({playList:[],currentIndex:0,playUrl:""}),methods:{changePlay(l,e){this.playUrl=l,this.currentIndex=Number(e)}}};var f=h(v,[["render",function(l,e,a,r,p,h){const v=(f=o("XGPlayer"),x=m,t(f)?x:f);var f,x;return n(),s(c,null,[p.playUrl?(n(),i(v,{key:0,url:p.playUrl},null,8,["url"])):u("",!0),(n(!0),s(c,null,d(p.playList,((l,e)=>(n(),s("div",{class:"btn btn-info",onClick:a=>h.changePlay(l,e)},y(l.label),9,["onClick"])))),256))],64)}]]);p(v);export{f as default};
